# DXC

DXC 是一款以《在地下城寻求邂逅是否搞错了什么》为背景的沉浸式 AI 文本冒险/地下城主系统。
项目以“叙事与指令分离”的 JSON 协议为核心，结合世界观、判定、写作与数据结构约束，生成一致且可追溯的剧情与状态更新。

## 主要特性
- **叙事与指令严格分离**：logs 只写叙事与对白，tavern_commands 专管状态更新。
- **多段思考链**：支持 thinking_pre/think_post 或多段思考模式，确保叙事与指令一致。
- **模块化提示词体系**：系统/世界观/判定/写作/动态地图/记忆等拆分管理，易维护易扩展。
- **战斗与结算闭环**：战斗面板、敌方状态、掉落与结算完整闭环。
- **记忆系统**：短/中/长记忆压缩与回写，支持剧情连续性。
- **日志筛选与战术摘要**：更清晰地回看与决策。

## 技术栈
- React + TypeScript
- Vite
- Tailwind CSS
- Lucide Icons

## 目录结构
- `components/`：界面与交互组件（含战斗、日志、设置等）
- `prompts/`：核心提示词模块（规则/世界观/写作/判定等）
- `types/`：类型定义与数据结构
- `utils/`：数据映射与工具函数
- `public/`：静态资源

## 本地运行
**环境要求**：Node.js

1. 安装依赖：`npm install`
2. 配置 `.env.local`：设置 `GEMINI_API_KEY`（或在设置面板内配置其他模型/服务）
3. 启动开发服务：`npm run dev`

## 说明
- 本项目默认使用 UTF-8 编码。
- 需要最新提示词或设定变更，请优先修改 `prompts/` 与 `types/`。
